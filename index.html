<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aide Devoir Stylé</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f0f5; }
.container { padding:20px; min-height:100vh; background-size:cover; background-position:center; transition: background 0.5s; }
.hidden { display:none; }
button { margin:5px; padding:10px 20px; font-size:16px; cursor:pointer; border:none; border-radius:5px; transition: transform 0.2s; }
button:hover { transform: scale(1.05); }
input[type="text"], input[type="number"] { padding:5px; font-size:16px; }
.list-item { background:#fff; margin:10px 0; padding:15px; border-radius:10px; display:flex; align-items:center; justify-content:space-between; cursor:grab; transition: background 0.3s;}
.list-item:hover { background:#e0f7ff; }

/* Flashcard 3D */
.flashcard { width:300px; height:150px; perspective:1000px; margin:auto; margin-top:20px; cursor:pointer; }
.flashcard-inner { width:100%; height:100%; position:relative; transition: transform 0.8s; transform-style: preserve-3d; }
.flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }
.flashcard .front, .flashcard .back {
  position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; align-items:center; justify-content:center; font-size:18px; border-radius:10px; color:#fff; font-weight:bold;
}
.flashcard .back { transform: rotateY(180deg); }

/* Flashcards couleurs par matière */
.flash-Math { background:#4CAF50; }
.flash-Français { background:#2196F3; }
.flash-Histoire { background:#FF9800; }
.flash-Sciences { background:#9C27B0; }
.flash-Géographie { background:#F44336; }

/* Option buttons */
.option-buttons { display:flex; justify-content:space-between; margin-top:10px; }
.option-buttons button { flex:1; margin:5px; font-weight:bold; }
.option-buttons button.good { background:#4CAF50; color:white; }
.option-buttons button.bad { background:#F44336; color:white; }

/* Quiz options */
.quiz-option { margin:5px 0; padding:8px; border-radius:5px; cursor:pointer; transition: all 0.3s; }
.correct { background:#4CAF50; color:white; }
.wrong { background:#F44336; color:white; }

</style>
</head>
<body>

<!-- Interface principale -->
<div class="container" id="main-interface" style="background-image:url('https://source.unsplash.com/800x600/?study');">
<h1>Aide Devoir Stylé</h1>
<button onclick="showInterface('quiz')">Quiz</button>
<button onclick="showInterface('flashcards')">Flashcards</button>
<button onclick="showInterface('timer')">Minuteur</button>
<button onclick="showInterface('todolist')">Liste</button>
</div>

<!-- Flashcards Interface -->
<div class="container hidden" id="flashcards-interface">
<button onclick="showInterface('main')">← Principal</button>
<h2>Choisis une matière</h2>
<div id="flashcard-subjects"></div>
<div id="flashcard-actions" class="hidden">
<button onclick="createNewFlashcard()">Créer un nouveau set</button>
<div id="existing-flashcards"></div>
</div>
<div id="flashcard-play" class="hidden"></div>
</div>

<script>
// --- Interfaces ---
function showInterface(name){
['main','flashcards'].forEach(i=>document.getElementById(i+'-interface')?.classList.add('hidden'));
document.getElementById((name==='main'?'main':name)+'-interface').classList.remove('hidden');
}

// --- Flashcards stylées ---
let subjects = ['Math','Français','Histoire','Sciences','Géographie'];
let currentFlashSubject='', currentFlash=[], flashErrors=[], cIndex=0;

function loadSubjects(){ 
let fs=document.getElementById('flashcard-subjects'); fs.innerHTML='';
subjects.forEach(s=>{
let b=document.createElement('button'); b.textContent=s; b.onclick=()=>selectFlashcardSubject(s); fs.appendChild(b);
});
}

function selectFlashcardSubject(subject){currentFlashSubject=subject; document.getElementById('flashcard-actions').classList.remove('hidden'); renderExistingFlashcards();}
function renderExistingFlashcards(){let div=document.getElementById('existing-flashcards'); div.innerHTML=''; let flashs=JSON.parse(localStorage.getItem('flash-'+currentFlashSubject)||'[]'); flashs.forEach((f,i)=>{ let d=document.createElement('div'); d.className='list-item'; d.innerHTML=`<span>${f.title}</span><div><button onclick="playFlashcard(${i})">Jouer</button><button onclick="editFlashcard(${i})">Modifier</button><button onclick="deleteFlashcard(${i})">Effacer</button></div>`; div.appendChild(d); });}
function createNewFlashcard(){ let title=prompt('Titre du set de flashcards:'); if(!title) return; let flashs=JSON.parse(localStorage.getItem('flash-'+currentFlashSubject)||'[]'); flashs.push({title,cards:[]}); localStorage.setItem('flash-'+currentFlashSubject,JSON.stringify(flashs)); editFlashcard(flashs.length-1);}
function editFlashcard(index){ let flashs=JSON.parse(localStorage.getItem('flash-'+currentFlashSubject)||'[]'); let f=flashs[index]; while(true){ let q=prompt('Question (ou annuler pour finir)'); if(!q) break; let a=prompt('Réponse'); f.cards.push({q,a}); } flashs[index]=f; localStorage.setItem('flash-'+currentFlashSubject,JSON.stringify(flashs)); renderExistingFlashcards();}
function deleteFlashcard(i){ let flashs=JSON.parse(localStorage.getItem('flash-'+currentFlashSubject)||'[]'); flashs.splice(i,1); localStorage.setItem('flash-'+currentFlashSubject,JSON.stringify(flashs)); renderExistingFlashcards();}
function playFlashcard(index, onlyErrors=false){ let flashs=JSON.parse(localStorage.getItem('flash-'+currentFlashSubject)||'[]'); currentFlash=JSON.parse(JSON.stringify(flashs[index].cards)); if(onlyErrors && flashErrors.length>0) currentFlash=flashErrors; flashErrors=[]; cIndex=0; showFlashCard();}
function showFlashCard(){ 
let container=document.getElementById('flashcard-play'); container.classList.remove('hidden'); container.innerHTML=''; 
if(cIndex>=currentFlash.length){ container.innerHTML=`Fin des cartes! Score: ${currentFlash.length - flashErrors.length}/${currentFlash.length} <br>${flashErrors.length>0?'<button onclick="playFlashcard(0,true)">Recommencer erreurs</button>':''}<button onclick="playFlashcard(0)">Recommencer</button><button onclick="showInterface('main')">Principal</button>`; return;}
let card=currentFlash[cIndex]; 
let matClass = 'flash-'+currentFlashSubject.replace('é','e');
container.innerHTML=`<div class="flashcard ${matClass}" onclick="this.classList.toggle('flipped')"><div class="flashcard-inner"><div class="front">${card.q}</div><div class="back">${card.a}</div></div></div><div class="option-buttons"><button class="bad" onclick="markCard(false)">✗ Mal</button><button class="good" onclick="markCard(true)">✓ Bien</button></div>`;}
function markCard(isGood){ if(!isGood) flashErrors.push(currentFlash[cIndex]); cIndex++; showFlashCard(); }

window.onload=function(){ loadSubjects(); };
</script>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aide Devoir</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; background: #f0f0f0; }
  .hidden { display: none; }
  .container { padding: 20px; max-width: 900px; margin: auto; }
  button { margin: 5px; padding: 10px 20px; cursor: pointer; }
  .card, .task { background: white; padding: 10px; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; }
  .task-list { list-style: none; padding: 0; }
  input[type="text"] { padding: 5px; margin-right: 5px; width: 70%; }
  .flashcard { cursor: pointer; padding: 20px; border-radius: 10px; text-align: center; background: #fff; margin: 10px 0; perspective: 1000px; }
  .flashcard-inner { transition: transform 0.6s; transform-style: preserve-3d; position: relative; }
  .flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }
  .flashcard-front, .flashcard-back { backface-visibility: hidden; position: absolute; width: 100%; height: 100%; top: 0; left: 0; display: flex; justify-content: center; align-items: center; font-size: 18px; }
  .flashcard-back { transform: rotateY(180deg); background: #d0ffd0; }
  .quiz-question { margin: 10px 0; }
  .correct { background-color: #a0ffa0; }
  .wrong { background-color: #ffa0a0; }
  .draggable { cursor: grab; }
</style>
</head>
<body>
<div class="container" id="mainMenu">
  <h1>Aide Devoir</h1>
  <button onclick="showInterface('quiz')">Quiz</button>
  <button onclick="showInterface('flashcard')">Flashcards</button>
  <button onclick="showInterface('pomodoro')">Minuteur Pomodoro</button>
  <button onclick="showInterface('todo')">Liste de Tâches</button>
</div>

<!-- Quiz Interface -->
<div class="container hidden" id="quizInterface">
  <button onclick="backToMain()">← Retour</button>
  <h2>Choisir une matière</h2>
  <div id="quizSubjects"></div>
  <button onclick="createQuiz()">Créer un nouveau quiz</button>
  <div id="quizList"></div>
</div>

<!-- Flashcard Interface -->
<div class="container hidden" id="flashcardInterface">
  <button onclick="backToMain()">← Retour</button>
  <h2>Choisir une matière</h2>
  <div id="flashcardSubjects"></div>
  <button onclick="createFlashcard()">Créer un nouveau groupe de flashcards</button>
  <div id="flashcardList"></div>
</div>

<!-- Pomodoro Timer -->
<div class="container hidden" id="pomodoroInterface">
  <button onclick="backToMain()">← Retour</button>
  <h2>Minuteur Pomodoro</h2>
  <input type="number" id="pomodoroMinutes" placeholder="Minutes" min="1">
  <button onclick="startPomodoro()">Start</button>
  <button onclick="pausePomodoro()">Pause</button>
  <h3 id="pomodoroDisplay">00:00</h3>
</div>

<!-- Todo List -->
<div class="container hidden" id="todoInterface">
  <button onclick="backToMain()">← Retour</button>
  <h2>Liste de Tâches</h2>
  <input type="text" id="newTaskInput" placeholder="Nouvelle tâche">
  <button onclick="addTask()">Ajouter</button>
  <ul id="taskList" class="task-list"></ul>
</div>

<script>
let currentInterface = 'mainMenu';

function showInterface(name) {
  document.getElementById(currentInterface).classList.add('hidden');
  document.getElementById(name + 'Interface').classList.remove('hidden');
  currentInterface = name;
}

// Retour au menu principal
function backToMain() {
  document.getElementById(currentInterface).classList.add('hidden');
  document.getElementById('mainMenu').classList.remove('hidden');
  currentInterface = 'mainMenu';
}

/* ------------------- Pomodoro ------------------- */
let pomodoroTimer;
let pomodoroTime = 0;
function startPomodoro() {
  clearInterval(pomodoroTimer);
  let minutes = parseInt(document.getElementById('pomodoroMinutes').value) || 25;
  pomodoroTime = minutes * 60;
  pomodoroTimer = setInterval(() => {
    let m = Math.floor(pomodoroTime / 60);
    let s = pomodoroTime % 60;
    document.getElementById('pomodoroDisplay').textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    if(pomodoroTime <= 0) clearInterval(pomodoroTimer);
    pomodoroTime--;
  }, 1000);
}
function pausePomodoro() { clearInterval(pomodoroTimer); }

/* ------------------- Todo List ------------------- */
function addTask() {
  let input = document.getElementById('newTaskInput');
  if(input.value.trim() === '') return;
  const li = document.createElement('li');
  li.className = 'task draggable';
  li.textContent = input.value;
  const xBtn = document.createElement('button');
  xBtn.textContent = 'X';
  xBtn.onclick = () => li.remove();
  li.appendChild(xBtn);
  document.getElementById('taskList').appendChild(li);
  input.value = '';
}

/* ------------------- Flashcards ------------------- */
function createFlashcard() {
  let title = prompt('Titre du groupe de flashcards:');
  if(!title) return;
  let cards = [];
  let addMore = true;
  while(addMore) {
    let question = prompt('Question:');
    let answer = prompt('Réponse:');
    if(question && answer) cards.push({question, answer});
    addMore = confirm('Ajouter une autre carte?');
  }
  alert('Flashcards enregistrées: ' + cards.length);
}

/* ------------------- Quiz ------------------- */
function createQuiz() {
  let title = prompt('Titre du quiz:');
  if(!title) return;
  let questions = [];
  let addMore = true;
  while(addMore) {
    let questionText = prompt('Question:');
    let numChoices = parseInt(prompt('Nombre de réponses (2-4):'));
    let choices = [];
    for(let i=0;i<numChoices;i++) choices.push(prompt('Réponse '+(i+1)+':'));
    let correct = parseInt(prompt('Numéro de la bonne réponse (1-'+numChoices+'):'))-1;
    questions.push({question: questionText, choices, correct});
    addMore = confirm('Ajouter une autre question?');
  }
  alert('Quiz enregistré: ' + questions.length + ' questions');
}
</script>
</body>
</html>

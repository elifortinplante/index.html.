<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aide Devoir Complet</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#f0f0f5; }
.container { padding:20px; min-height:100vh; background-size:cover; background-position:center; transition: background 0.5s; text-align:center; }
.hidden { display:none; }
button { margin:5px; padding:10px 20px; font-size:16px; cursor:pointer; border:none; border-radius:5px; transition: transform 0.2s; }
button:hover { transform: scale(1.05); }
input[type="text"], input[type="number"] { padding:5px; font-size:16px; border-radius:5px; border:1px solid #ccc; }

/* Flashcards 3D */
.flashcard { width:300px; height:150px; perspective:1000px; margin:auto; margin-top:40px; cursor:pointer; position:relative; }
.flashcard-inner { width:100%; height:100%; position:relative; transition: transform 0.8s; transform-style: preserve-3d; }
.flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }
.flashcard .front, .flashcard .back {
  position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; align-items:center; justify-content:center; font-size:20px; border-radius:10px; color:#fff; font-weight:bold;
}
.flashcard .back { transform: rotateY(180deg); }

/* Boutons Bien/Mal */
.option-buttons { display:flex; justify-content:space-between; margin-top:20px; max-width:300px; margin-left:auto; margin-right:auto; }
.option-buttons button { flex:1; margin:5px; font-weight:bold; }
.option-buttons .good { background:#4CAF50; color:white; }
.option-buttons .bad { background:#F44336; color:white; }

/* Quiz options */
.quiz-option { margin:5px 0; padding:8px; border-radius:5px; cursor:pointer; transition: all 0.3s; }
.correct { background:#4CAF50; color:white; }
.wrong { background:#F44336; color:white; }

/* Timer */
#timer-display { font-size:48px; margin:20px 0; }

/* To-do List */
#new-task { width:70%; margin-right:10px; }
.list-item { background:#fff; margin:10px 0; padding:15px; border-radius:10px; display:flex; align-items:center; justify-content:space-between; cursor:grab; transition: background 0.3s;}
.list-item:hover { background:#e0f7ff; }

/* Félicitations fullscreen */
#congrats { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); align-items:center; justify-content:center; z-index:1000; }
#congrats img { width:100%; height:100%; object-fit:cover; }
</style>
</head>
<body>

<!-- Interface principale -->
<div class="container" id="main-interface" style="background-image:url('https://source.unsplash.com/1600x900/?study');">
<h1>Aide Devoir</h1>
<button onclick="showInterface('quiz')">Quiz</button>
<button onclick="showInterface('flashcards')">Flashcards</button>
<button onclick="showInterface('timer')">Minuteur</button>
<button onclick="showInterface('todolist')">Liste</button>
</div>

<!-- Quiz Interface -->
<div class="container hidden" id="quiz-interface" style="background-image:url('https://source.unsplash.com/1600x900/?notebook');">
<button onclick="showInterface('main')">← Principal</button>
<h2>Quiz</h2>
<button onclick="showQuizCreate()">Créer un nouveau quiz</button>
<div id="quiz-list"></div>
<div id="quiz-create" class="hidden"></div>
<div id="quiz-play"></div>
</div>

<!-- Flashcards Interface -->
<div class="container hidden" id="flashcards-interface" style="background-image:url('https://source.unsplash.com/1600x900/?cards');">
<button onclick="showInterface('main')">← Principal</button>
<h2>Flashcards</h2>
<button onclick="showFlashCreate()">Créer un nouveau set</button>
<div id="flashcard-list"></div>
<div id="flashcard-create" class="hidden"></div>
<div id="flashcard-play"></div>
</div>

<!-- Timer Interface -->
<div class="container hidden" id="timer-interface" style="background-image:url('https://source.unsplash.com/1600x900/?clock');">
<button onclick="showInterface('main')">← Principal</button>
<h2>Minuteur Pomodoro</h2>
<input type="number" id="timer-minutes" placeholder="Minutes" value="25">
<div><span id="timer-display">25:00</span></div>
<button onclick="startTimer()">Start</button>
<button onclick="pauseTimer()">Pause</button>
</div>

<!-- To-do List Interface -->
<div class="container hidden" id="todolist-interface" style="background-image:url('https://source.unsplash.com/1600x900/?notes');">
<button onclick="showInterface('main')">← Principal</button>
<h2>Liste de tâches</h2>
<input type="text" id="new-task" placeholder="Nouvelle tâche">
<button onclick="addTask()">Ajouter</button>
<div id="task-list"></div>
</div>

<!-- Fenêtre Félicitations -->
<div id="congrats">
    <img src="https://bradaronson.com/wp-content/uploads/2013/10/happy.jpg" alt="Félicitations !">
</div>

<script>
// --- Interfaces ---
let currentInterface = 'main';
function showInterface(name){
['main','quiz','flashcards','timer','todolist'].forEach(i=>{
document.getElementById(i+'-interface')?.classList.add('hidden');
});
document.getElementById(name+'-interface')?.classList.remove('hidden');
currentInterface = name;
}

// --- Félicitations ---
function showCongrats(){
    const congrats = document.getElementById('congrats');
    congrats.style.display='flex';
    setTimeout(()=>{ congrats.style.display='none'; },10000);
}

// --- Timer ---
let timerInterval, remainingTime = 25*60;
function updateTimerDisplay(){
let m=Math.floor(remainingTime/60), s=remainingTime%60;
document.getElementById('timer-display').textContent = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
}
function startTimer(){
remainingTime = parseInt(document.getElementById('timer-minutes').value||25)*60;
updateTimerDisplay();
clearInterval(timerInterval);
timerInterval = setInterval(()=>{if(remainingTime>0){remainingTime--; updateTimerDisplay();} else clearInterval(timerInterval);},1000);
}
function pauseTimer(){ clearInterval(timerInterval); }

// --- To-do List ---
function loadTasks(){
let tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
let container = document.getElementById('task-list'); container.innerHTML='';
tasks.forEach((t,i)=>{
let div=document.createElement('div'); div.className='list-item';
div.draggable=true; div.innerHTML=`<span>${t}</span><button onclick="deleteTask(${i})">X</button>`;
div.addEventListener('dragstart', e=>{ e.dataTransfer.setData('text/plain', i); });
div.addEventListener('dragover', e=>{ e.preventDefault(); });
div.addEventListener('drop', e=>{
let from = parseInt(e.dataTransfer.getData('text'));
let to = i;
tasks.splice(to,0,tasks.splice(from,1)[0]);
localStorage.setItem('tasks',JSON.stringify(tasks)); loadTasks();
});
container.appendChild(div);
});
}
function addTask(){
let input=document.getElementById('new-task'); if(!input.value) return;
let tasks = JSON.parse(localStorage.getItem('tasks')||'[]'); tasks.push(input.value);
localStorage.setItem('tasks',JSON.stringify(tasks)); input.value=''; loadTasks();
}
function deleteTask(i){
let tasks = JSON.parse(localStorage.getItem('tasks')||'[]'); tasks.splice(i,1);
localStorage.setItem('tasks',JSON.stringify(tasks)); loadTasks();
}
loadTasks();

// --- Quiz et Flashcards données ---
let quizzes = JSON.parse(localStorage.getItem('quizzes')||'[]');
let flashcards = JSON.parse(localStorage.getItem('flashcards')||'[]');

// --- Gestion Quiz ---
function showQuizCreate(){
let div = document.getElementById('quiz-create'); div.innerHTML=''; div.classList.remove('hidden');
let title = document.createElement('input'); title.placeholder='Titre du quiz';
let addQ = document.createElement('button'); addQ.textContent='Ajouter une question';
let questions = [];
addQ.onclick=()=>{ let q={question:'',options:['',''],correct:0}; questions.push(q); renderQuizQuestions(div,questions); };
let save = document.createElement('button'); save.textContent='Enregistrer'; 
save.onclick=()=>{ if(!title.value) return alert('Titre requis'); quizzes.push({title:title.value,questions}); localStorage.setItem('quizzes',JSON.stringify(quizzes)); div.classList.add('hidden'); renderQuizList(); };
div.appendChild(title); div.appendChild(addQ); div.appendChild(save);
renderQuizQuestions(div,questions);
}
function renderQuizQuestions(container,questions){
let existing = container.querySelectorAll('.question-block'); existing.forEach(e=>e.remove());
questions.forEach((q,i)=>{
let block = document.createElement('div'); block.className='question-block';
let inputQ = document.createElement('input'); inputQ.placeholder='Question'; inputQ.value=q.question;
inputQ.oninput=(e)=>{q.question=e.target.value;};
let optionDiv = document.createElement('div');
for(let j=0;j<4;j++){
let inp = document.createElement('input'); inp.placeholder='Option '+(j+1); inp.value=q.options[j]||'';
inp.oninput=(e)=>{ q.options[j]=e.target.value; };
let radio = document.createElement('input'); radio.type='radio'; radio.name='correct'+i; radio.checked=(q.correct===j); radio.onchange=()=>{q.correct=j;};
optionDiv.appendChild(inp); optionDiv.appendChild(radio);
}
block.appendChild(inputQ); block.appendChild(optionDiv); container.appendChild(block);
});
}
function renderQuizList(){
let div = document.getElementById('quiz-list'); div.innerHTML='';
quizzes.forEach((q,i)=>{
let btnPlay = document.createElement('button'); btnPlay.textContent=q.title; btnPlay.onclick=()=>{ playQuiz(q); };
div.appendChild(btnPlay);
});
}
function playQuiz(quiz){
let div = document.getElementById('quiz-play'); div.innerHTML=''; let index=0,score=0;
function showQ(){
if(index>=quiz.questions.length){ div.innerHTML=`<h2>Score: ${score}/${quiz.questions.length}</h2>`; if(score===quiz.questions.length) showCongrats(); return; }
let q = quiz.questions[index]; div.innerHTML=`<h3>${q.question}</h3>`;
q.options.forEach((opt,i)=>{
let b = document.createElement('button'); b.textContent=opt; b.className='quiz-option';
b.onclick=()=>{ if(i===q.correct){b.classList.add('correct'); score++;} else b.classList.add('wrong'); setTimeout(()=>{ index++; showQ(); },500); };
div.appendChild(b);
});
}
showQ();
}

// --- Gestion Flashcards ---
let subjects = ['Math','Francais','Histoire','Sciences','Geographie'];
function showFlashCreate(){
let div = document.getElementById('flashcard-create'); div.innerHTML=''; div.classList.remove('hidden');
let title = document.createElement('input'); title.placeholder='Titre du set';
let addCard = document.createElement('button'); addCard.textContent='Ajouter une carte';
let cards=[];
addCard.onclick=()=>{ cards.push({q:'',a:''}); renderFlashCards(div,cards); };
let save = document.createElement('button'); save.textContent='Enregistrer';
save.onclick=()=>{ if(!title.value) return alert('Titre requis'); flashcards.push({title:title.value,cards}); localStorage.setItem('flashcards',JSON.stringify(flashcards)); div.classList.add('hidden'); renderFlashList(); };
div.appendChild(title); div.appendChild(addCard); div.appendChild(save);
renderFlashCards(div,cards);
}
function renderFlashCards(container,cards){
let existing = container.querySelectorAll('.card-block'); existing.forEach(e=>e.remove());
cards.forEach((c,i)=>{
let block = document.createElement('div'); block.className='card-block';
let qInput = document.createElement('input'); qInput.placeholder='Question'; qInput.value=c.q; qInput.oninput=(e)=>{c.q=e.target.value;};
let aInput = document.createElement('input'); aInput.placeholder='Réponse'; aInput.value=c.a; aInput.oninput=(e)=>{c.a=e.target.value;};
block.appendChild(qInput); block.appendChild(aInput); container.appendChild(block);
});
}
function renderFlashList(){
let div = document.getElementById('flashcard-list'); div.innerHTML='';
flashcards.forEach((f,i)=>{
let btnPlay = document.createElement('button'); btnPlay.textContent=f.title; 
btnPlay.onclick=()=>{ playFlashcards(f); };
div.appendChild(btnPlay);
});
}
function playFlashcards(set){
let div = document.getElementById('flashcard-play'); div.innerHTML=''; 
let index=0,score=0;
function showCard(){
if(index>=set.cards.length){ div.innerHTML=`<h2>Score: ${score}/${set.cards.length}</h2>`; if(score===set.cards.length) showCongrats(); return; }
let c = set.cards[index]; 
let cardDiv = document.createElement('div'); cardDiv.className='flashcard';
let inner = document.createElement('div'); inner.className='flashcard-inner';
let front = document.createElement('div'); front.className='front'; front.textContent=c.q;
let back = document.createElement('div'); back.className='back'; back.textContent=c.a;
inner.appendChild(front); inner.appendChild(back); cardDiv.appendChild(inner);
cardDiv.onclick=()=>{ cardDiv.classList.toggle('flipped'); };
div.appendChild(cardDiv);

let btnDiv = document.createElement('div'); btnDiv.className='option-buttons';
let good = document.createElement('button'); good.textContent='Bien'; good.className='good';
good.onclick=()=>{ score++; index++; div.innerHTML=''; showCard(); };
let bad = document.createElement('button'); bad.textContent='Mal'; bad.className='bad';
bad.onclick=()=>{ index++; div.innerHTML=''; showCard(); };
btnDiv.appendChild(bad); btnDiv.appendChild(good);
div.appendChild(btnDiv);
}
showCard();
}

renderQuizList();
renderFlashList();
</script>

</body>
</html>

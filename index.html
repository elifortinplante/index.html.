<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aide Devoir</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f0f0f5; }
    .hidden { display: none; }
    .container { padding: 20px; }
    button { margin: 5px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
    .interface { margin-top: 20px; }
    .list-item { display: flex; align-items: center; margin: 5px 0; background: #fff; padding: 10px; border-radius: 5px; }
    .list-item span { flex: 1; }
    .list-item button { margin-left: 5px; }
    .flashcard, .quiz-question { margin: 10px 0; padding: 20px; background: #fff; border-radius: 10px; text-align: center; cursor: pointer; }
    .flashcard.flipped { background: #d1ffd1; }
    input[type="text"] { padding: 5px; font-size: 16px; }
</style>
</head>
<body>

<div class="container" id="main-interface">
    <h1>Aide Devoir</h1>
    <button onclick="showInterface('quiz')">Quiz</button>
    <button onclick="showInterface('flashcards')">Flashcards</button>
    <button onclick="showInterface('timer')">Minuteur</button>
    <button onclick="showInterface('todolist')">Liste</button>
</div>

<!-- Quiz Interface -->
<div class="container hidden" id="quiz-interface">
    <button onclick="showInterface('main')">← Principal</button>
    <h2>Choisis une matière</h2>
    <div id="quiz-subjects"></div>
    <div id="quiz-actions" class="hidden">
        <button onclick="createNewQuiz()">Créer un nouveau quiz</button>
        <div id="existing-quizzes"></div>
    </div>
    <div id="quiz-play" class="hidden"></div>
</div>

<!-- Flashcards Interface -->
<div class="container hidden" id="flashcards-interface">
    <button onclick="showInterface('main')">← Principal</button>
    <h2>Choisis une matière</h2>
    <div id="flashcard-subjects"></div>
    <div id="flashcard-actions" class="hidden">
        <button onclick="createNewFlashcard()">Créer un nouveau</button>
        <div id="existing-flashcards"></div>
    </div>
    <div id="flashcard-play" class="hidden"></div>
</div>

<!-- Timer Interface -->
<div class="container hidden" id="timer-interface">
    <button onclick="showInterface('main')">← Principal</button>
    <h2>Minuteur Pomodoro</h2>
    <input type="number" id="timer-minutes" placeholder="Minutes" value="25">
    <div>
        <span id="timer-display">25:00</span>
    </div>
    <button onclick="startTimer()">Start</button>
    <button onclick="pauseTimer()">Pause</button>
</div>

<!-- To-do List Interface -->
<div class="container hidden" id="todolist-interface">
    <button onclick="showInterface('main')">← Principal</button>
    <h2>Liste de tâches</h2>
    <input type="text" id="new-task" placeholder="Nouvelle tâche">
    <button onclick="addTask()">Ajouter</button>
    <div id="task-list"></div>
</div>

<script>
let currentInterface = 'main';
function showInterface(name){
    document.getElementById('main-interface').classList.add('hidden');
    document.getElementById('quiz-interface').classList.add('hidden');
    document.getElementById('flashcards-interface').classList.add('hidden');
    document.getElementById('timer-interface').classList.add('hidden');
    document.getElementById('todolist-interface').classList.add('hidden');
    if(name==='main') name='main-interface';
    else name=name+'-interface';
    document.getElementById(name).classList.remove('hidden');
    currentInterface = name;
}

// Timer
let timerInterval, remainingTime = 25*60;
function updateTimerDisplay(){
    let m = Math.floor(remainingTime/60);
    let s = remainingTime % 60;
    document.getElementById('timer-display').textContent = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
}
function startTimer(){
    clearInterval(timerInterval);
    timerInterval = setInterval(()=>{
        if(remainingTime>0){
            remainingTime--;
            updateTimerDisplay();
        } else clearInterval(timerInterval);
    },1000);
}
function pauseTimer(){ clearInterval(timerInterval); }

// To-do List
function loadTasks(){
    let tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
    let container = document.getElementById('task-list');
    container.innerHTML='';
    tasks.forEach((t,i)=>{
        let div = document.createElement('div');
        div.className='list-item';
        div.innerHTML=`<span>${t}</span><button onclick="deleteTask(${i})">X</button>`;
        container.appendChild(div);
    });
}
function addTask(){
    let input = document.getElementById('new-task');
    if(!input.value) return;
    let tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
    tasks.push(input.value);
    localStorage.setItem('tasks',JSON.stringify(tasks));
    input.value='';
    loadTasks();
}
function deleteTask(i){
    let tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
    tasks.splice(i,1);
    localStorage.setItem('tasks',JSON.stringify(tasks));
    loadTasks();
}
window.onload = loadTasks;

// Pour la suite : Quiz et Flashcards, on peut compléter avec création, modification, et lecture.
// Vu la longueur, on peut générer un second fichier JS séparé ou l'ajouter ici.
</script>

</body>
</html>
